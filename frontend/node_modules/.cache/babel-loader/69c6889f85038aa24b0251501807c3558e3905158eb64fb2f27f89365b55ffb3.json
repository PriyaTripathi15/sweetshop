{"ast":null,"code":"import React,{useState}from'react';import EditSweetModal from'./EditSweetModal';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SweetCard=_ref=>{let{sweet,isAdmin,onPurchase,onDelete,onRestock,onUpdated,showPurchase=true}=_ref;const[purchaseQuantity,setPurchaseQuantity]=useState(1);const[restockQuantity,setRestockQuantity]=useState(10);const[showRestockInput,setShowRestockInput]=useState(false);const[showEditModal,setShowEditModal]=useState(false);const handlePurchase=()=>{if(purchaseQuantity>0&&purchaseQuantity<=sweet.quantity){onPurchase(sweet._id,purchaseQuantity);setPurchaseQuantity(1);}};const handleRestock=()=>{if(restockQuantity>0){onRestock(sweet._id,restockQuantity);setRestockQuantity(10);setShowRestockInput(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"w-full bg-white border-2 border-pink-200 rounded-xl shadow-md \\r hover:shadow-lg transform hover:-translate-y-1 transition-all overflow-hidden\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-full h-64 bg-gradient-to-tr from-pink-200 to-pink-100 flex items-center justify-center\",children:sweet.imageUrl?/*#__PURE__*/_jsx(\"img\",{src:sweet.imageUrl,alt:sweet.name,className:\"w-full h-full object-cover\"}):/*#__PURE__*/_jsx(\"div\",{className:\"text-7xl text-gray-400\",children:\"\\uD83C\\uDF6C\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-5 space-y-3\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-pink-600 text-2xl font-bold\",children:sweet.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-pink-700 text-sm font-semibold\",children:sweet.category}),sweet.description&&/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-sm\",children:sweet.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-pink-600 font-bold text-xl\",children:[\"$\",sweet.price.toFixed(2)]}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium \".concat(sweet.quantity===0?'text-red-400':'text-green-500'),children:sweet.quantity>0?\"\".concat(sweet.quantity,\" in stock\"):'Out of stock'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col gap-2\",children:[showPurchase&&sweet.quantity>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2 items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"1\",max:sweet.quantity,value:purchaseQuantity,onChange:e=>setPurchaseQuantity(parseInt(e.target.value)||1),className:\"w-16 border-2 border-gray-300 rounded text-center\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handlePurchase,className:\"bg-pink-600 hover:bg-pink-700 text-white px-4 py-2 rounded font-semibold\",children:\"Purchase\"})]}),isAdmin&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col gap-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowEditModal(true),className:\"bg-gray-300 hover:bg-gray-400 px-4 py-2 rounded font-semibold\",children:\"Edit\"}),!showRestockInput?/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowRestockInput(true),className:\"bg-green-500 text-white hover:bg-green-600 px-4 py-2 rounded font-semibold\",children:\"Restock\"}):/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2 items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"1\",value:restockQuantity,onChange:e=>setRestockQuantity(parseInt(e.target.value)||10),className:\"w-16 border-2 border-gray-300 rounded text-center\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleRestock,className:\"bg-green-500 text-white px-3 py-1 rounded\",children:\"\\u2713\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowRestockInput(false),className:\"bg-gray-300 hover:bg-gray-400 px-3 py-1 rounded\",children:\"\\u2715\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>onDelete(sweet._id),className:\"bg-red-400 hover:bg-red-500 text-white px-4 py-2 rounded font-semibold\",children:\"Delete\"})]})]})]}),showEditModal&&/*#__PURE__*/_jsx(EditSweetModal,{sweet:sweet,onClose:()=>setShowEditModal(false),onSuccess:()=>{setShowEditModal(false);onUpdated===null||onUpdated===void 0?void 0:onUpdated();}})]});};export default SweetCard;","map":{"version":3,"names":["React","useState","EditSweetModal","jsx","_jsx","jsxs","_jsxs","SweetCard","_ref","sweet","isAdmin","onPurchase","onDelete","onRestock","onUpdated","showPurchase","purchaseQuantity","setPurchaseQuantity","restockQuantity","setRestockQuantity","showRestockInput","setShowRestockInput","showEditModal","setShowEditModal","handlePurchase","quantity","_id","handleRestock","className","children","imageUrl","src","alt","name","category","description","price","toFixed","concat","type","min","max","value","onChange","e","parseInt","target","onClick","onClose","onSuccess"],"sources":["C:/Users/DELL/Downloads/sweetshop/frontend/src/components/SweetCard.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport EditSweetModal from './EditSweetModal';\r\n\r\nconst SweetCard = ({\r\n  sweet,\r\n  isAdmin,\r\n  onPurchase,\r\n  onDelete,\r\n  onRestock,\r\n  onUpdated,\r\n  showPurchase = true\r\n}) => {\r\n  const [purchaseQuantity, setPurchaseQuantity] = useState(1);\r\n  const [restockQuantity, setRestockQuantity] = useState(10);\r\n  const [showRestockInput, setShowRestockInput] = useState(false);\r\n  const [showEditModal, setShowEditModal] = useState(false);\r\n\r\n  const handlePurchase = () => {\r\n    if (purchaseQuantity > 0 && purchaseQuantity <= sweet.quantity) {\r\n      onPurchase(sweet._id, purchaseQuantity);\r\n      setPurchaseQuantity(1);\r\n    }\r\n  };\r\n\r\n  const handleRestock = () => {\r\n    if (restockQuantity > 0) {\r\n      onRestock(sweet._id, restockQuantity);\r\n      setRestockQuantity(10);\r\n      setShowRestockInput(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"w-full bg-white border-2 border-pink-200 rounded-xl shadow-md \r\n        hover:shadow-lg transform hover:-translate-y-1 transition-all overflow-hidden\">\r\n\r\n      {/* Image */}\r\n      <div className=\"w-full h-64 bg-gradient-to-tr from-pink-200 to-pink-100 flex items-center justify-center\">\r\n        {sweet.imageUrl ? (\r\n          <img src={sweet.imageUrl} alt={sweet.name} className=\"w-full h-full object-cover\" />\r\n        ) : (\r\n          <div className=\"text-7xl text-gray-400\">üç¨</div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Info */}\r\n      <div className=\"p-5 space-y-3\">\r\n        <h3 className=\"text-pink-600 text-2xl font-bold\">{sweet.name}</h3>\r\n        <p className=\"text-pink-700 text-sm font-semibold\">{sweet.category}</p>\r\n\r\n        {sweet.description && (\r\n          <p className=\"text-gray-600 text-sm\">{sweet.description}</p>\r\n        )}\r\n\r\n        <div className=\"flex justify-between items-center\">\r\n          <span className=\"text-pink-600 font-bold text-xl\">${sweet.price.toFixed(2)}</span>\r\n          <span className={`text-sm font-medium ${sweet.quantity === 0 ? 'text-red-400' : 'text-green-500'}`}>\r\n            {sweet.quantity > 0 ? `${sweet.quantity} in stock` : 'Out of stock'}\r\n          </span>\r\n        </div>\r\n\r\n        {/* Actions */}\r\n        <div className=\"flex flex-col gap-2\">\r\n\r\n          {/* Purchase */}\r\n          {showPurchase && sweet.quantity > 0 && (\r\n            <div className=\"flex gap-2 items-center\">\r\n              <input\r\n                type=\"number\"\r\n                min=\"1\"\r\n                max={sweet.quantity}\r\n                value={purchaseQuantity}\r\n                onChange={(e) => setPurchaseQuantity(parseInt(e.target.value) || 1)}\r\n                className=\"w-16 border-2 border-gray-300 rounded text-center\"\r\n              />\r\n              <button\r\n                onClick={handlePurchase}\r\n                className=\"bg-pink-600 hover:bg-pink-700 text-white px-4 py-2 rounded font-semibold\"\r\n              >\r\n                Purchase\r\n              </button>\r\n            </div>\r\n          )}\r\n\r\n          {/* Admin Controls */}\r\n          {isAdmin && (\r\n            <div className=\"flex flex-col gap-3\">\r\n              <button\r\n                onClick={() => setShowEditModal(true)}\r\n                className=\"bg-gray-300 hover:bg-gray-400 px-4 py-2 rounded font-semibold\"\r\n              >\r\n                Edit\r\n              </button>\r\n\r\n              {!showRestockInput ? (\r\n                <button\r\n                  onClick={() => setShowRestockInput(true)}\r\n                  className=\"bg-green-500 text-white hover:bg-green-600 px-4 py-2 rounded font-semibold\"\r\n                >\r\n                  Restock\r\n                </button>\r\n              ) : (\r\n                <div className=\"flex gap-2 items-center\">\r\n                  <input\r\n                    type=\"number\"\r\n                    min=\"1\"\r\n                    value={restockQuantity}\r\n                    onChange={(e) =>\r\n                      setRestockQuantity(parseInt(e.target.value) || 10)\r\n                    }\r\n                    className=\"w-16 border-2 border-gray-300 rounded text-center\"\r\n                  />\r\n                  <button\r\n                    onClick={handleRestock}\r\n                    className=\"bg-green-500 text-white px-3 py-1 rounded\"\r\n                  >\r\n                    ‚úì\r\n                  </button>\r\n                  <button\r\n                    onClick={() => setShowRestockInput(false)}\r\n                    className=\"bg-gray-300 hover:bg-gray-400 px-3 py-1 rounded\"\r\n                  >\r\n                    ‚úï\r\n                  </button>\r\n                </div>\r\n              )}\r\n\r\n              <button\r\n                onClick={() => onDelete(sweet._id)}\r\n                className=\"bg-red-400 hover:bg-red-500 text-white px-4 py-2 rounded font-semibold\"\r\n              >\r\n                Delete\r\n              </button>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Edit Modal */}\r\n      {showEditModal && (\r\n        <EditSweetModal\r\n          sweet={sweet}\r\n          onClose={() => setShowEditModal(false)}\r\n          onSuccess={() => {\r\n            setShowEditModal(false);\r\n            onUpdated?.();\r\n          }}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SweetCard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}